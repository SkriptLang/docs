---
import { Badge, Icon } from '@astrojs/starlight/components';
import { type ComponentProps } from 'astro/types';

interface Props {
    badgeProps: ComponentProps<typeof Badge>;
    text: string;
    cardRef?: string;
}

const { badgeProps, text, cardRef }: Props = Astro.props;
---

<span class="prefix-badge">
    <Badge {...badgeProps} class="cb" />
    {cardRef ? (
        <p card-dialog card-dialog-id={cardRef}>
            {text}
            <Icon name="right-arrow"/>
        </p>
    ) : text}
</span>

<style>
    .prefix-badge:not(:last-of-type) {
        margin-bottom: 0.75em;
    }
    p {
        display: inline-flex;
        align-items: center;
        text-decoration: none;
        color: inherit;
        user-select: none;
    }
    p:hover {
        cursor: pointer;
    }
</style>
